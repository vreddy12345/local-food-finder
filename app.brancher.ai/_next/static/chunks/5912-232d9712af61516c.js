(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5912],{15912:function(t,e,o){"use strict";var l=o(57437),n=o(2265),s=o(15190),i=o.n(s),a=o(2390),r=o.n(a),u=o(58328),c=o(55042),d=o(16691),p=o.n(d),h=o(2101),m=o.n(h),_=o(2112),v=o(7038),x=o(45620),j=o(49776),b=o(8370),y=o(84816);e.Z=t=>{var e,o,s,a;let{app:d,appResult:h,showBrancherBranding:g,showShareOptions:k,colorText:N,colorBackground:A,isGenerating:C,onStopRequest:S,onContinueRequest:f}=t,{showSuccessMessage:w,showErrorMessage:I}=(0,v.Z)(),L=(0,n.useRef)(null),Z=i()(A).isLight(),B=i()(A).isDark(),[M,T]=(0,n.useState)(!1),[O,R]=(0,n.useState)(!1),[z,q]=(0,n.useState)(),U=async()=>{T(!0),setTimeout(()=>{W()},0)},W=(0,n.useCallback)(async()=>{if(null!==L.current)try{let t=await (0,u.YM)(L.current,{cacheBust:!0}),e=document.createElement("a");g?e.download="brancher.ai-".concat(h.hash,".png"):e.download="".concat(h.hash,".png"),e.href=t,e.click()}catch(t){console.error(t),I({title:"Failed to save as image"})}finally{setTimeout(()=>{T(!1)},500)}},[null==h?void 0:h.hash,g,I]),D=t=>{let{attributes:e,content:o}=t,{href:n,...s}=e;return(0,l.jsx)(_.Z,{href:n,...s,style:{color:N,textDecoration:"underline"},children:o})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:m().outputSection,children:[(null==h?void 0:h.currentStep)>0&&(0,l.jsxs)("div",{className:m().resultActions,children:[k&&(0,l.jsx)(j.Z,{Button:(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},children:(0,l.jsxs)("div",{className:m().resultActionButtonLayout,children:[(0,l.jsx)(x.Z,{size:32,icon:"share",color:N}),(0,l.jsx)("div",{className:m().isMobile,children:"Share"})]})}),menu:[{label:"Share Results Page",type:"button",isDestructive:!1,onClick:()=>{q({url:"".concat("https://app.brancher.ai","/r/").concat(h.hash),type:"result"}),R(!0)}},{label:"Share This App",type:"button",isDestructive:!1,onClick:()=>{q({url:"".concat("https://app.brancher.ai","/").concat(null==d?void 0:d.hash),type:"app"}),R(!0)}}],alignment:"left"}),(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},onClick:U,children:(0,l.jsxs)("div",{className:m().resultActionButtonLayout,children:[(0,l.jsx)(x.Z,{size:32,icon:"download",color:N}),(0,l.jsx)("div",{className:m().isMobile,children:"Save As Image"})]})}),(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},onClick:()=>{var t,e,o,l,n;if(!h.outputs||(null===(t=h.outputs)||void 0===t?void 0:t.length)===0){I({title:"Output not found"});return}r()(null===(n=h.outputs)||void 0===n?void 0:null===(l=n.filter(t=>t.isVisible))||void 0===l?void 0:null===(o=l.filter(t=>"text"===t.type))||void 0===o?void 0:null===(e=o.map(t=>t.content))||void 0===e?void 0:e.join("\n\n"))&&w({title:"Output copied to your clipboard"})},children:(0,l.jsxs)("div",{className:m().resultActionButtonLayout,children:[(0,l.jsx)(x.Z,{size:32,icon:"text",color:N}),(0,l.jsx)("div",{className:m().isMobile,children:"Copy Text"})]})})]}),(0,l.jsx)("div",{className:m().outputsWrapper,style:{borderColor:N},children:(0,l.jsxs)("div",{ref:L,style:{background:A},children:[(0,l.jsxs)("ul",{className:m().outputs,children:[null==h?void 0:null===(o=h.outputs)||void 0===o?void 0:null===(e=o.filter(t=>t.isVisible))||void 0===e?void 0:e.map((t,e)=>{var o;return(0,l.jsxs)("li",{className:m().outputItem,style:{borderColor:N},children:[(null==t?void 0:t.type)==="text"&&(0,l.jsx)("div",{className:m().outputText,children:(0,l.jsx)(c.Z,{options:{render:D,nl2br:!0},children:null==t?void 0:t.content})}),(null==t?void 0:t.type)==="images"&&(0,l.jsx)("ul",{className:m().outputImages,children:null===(o=null==t?void 0:t.content)||void 0===o?void 0:o.map(t=>(0,l.jsx)("li",{children:(0,l.jsx)(_.Z,{href:t,children:(0,l.jsx)(p(),{src:t,alt:"Generated Image",className:m().outputImage,width:1024,height:1024})})},t))})]},e)}),(null==h?void 0:h.currentStep)<(null==h?void 0:h.totalSteps)&&!(null==h?void 0:h.error)&&C&&(0,l.jsxs)("li",{className:m().outputItem,style:{borderColor:N},children:[(0,l.jsx)(y.Z,{}),S&&(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},onClick:S,children:(0,l.jsx)("div",{className:m().resultActionButtonLayout,children:(0,l.jsx)("div",{className:m().isMobile,children:"Stop"})})})]}),f&&(null==h?void 0:h.currentStep)<(null==h?void 0:h.totalSteps)&&!(null==h?void 0:h.error)&&!C&&(0,l.jsx)("li",{className:m().outputItem,style:{borderColor:N},children:(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},onClick:f,children:(0,l.jsx)("div",{className:m().resultActionButtonLayout,children:(0,l.jsx)("div",{className:m().isMobile,children:"Continue"})})})}),(null==h?void 0:h.error)&&(0,l.jsxs)("li",{className:m().outputItem,style:{borderColor:N},children:[(0,l.jsx)("div",{children:(0,l.jsx)(_.Z,{style:{color:N,textDecoration:"underline"},href:null==h?void 0:null===(s=h.error)||void 0===s?void 0:s.helpArticle,children:null==h?void 0:null===(a=h.error)||void 0===a?void 0:a.message})}),f&&(0,l.jsx)("button",{type:"button",className:m().resultActionButton,style:{borderColor:N,color:N},onClick:f,children:(0,l.jsx)("div",{className:m().resultActionButtonLayout,children:(0,l.jsx)("div",{className:m().isMobile,children:"Retry"})})})]})]}),g&&M&&(0,l.jsxs)("div",{className:m().outputLogo,children:[B&&(0,l.jsx)("img",{src:"/static/branding/logo-on-dark.svg",className:m().resultLogo,alt:"brancher.ai"}),Z&&(0,l.jsx)("img",{src:"/static/branding/logo-on-white.svg",className:m().resultLogo,alt:"brancher.ai"})]})]})})]}),(0,l.jsx)(b.Z,{isOpen:O,appTitle:null==d?void 0:d.appTitle,onRequestClose:()=>{q(void 0),R(!1)},shareUrl:null==z?void 0:z.url,shareType:null==z?void 0:z.type})]})}},8370:function(t,e,o){"use strict";var l=o(57437),n=o(2265),s=o(2390),i=o.n(s),a=o(7197),r=o(7747),u=o(1589),c=o(41651),d=o(40128),p=o(1989),h=o.n(p),m=o(23707),_=o(7038),v=o(84058);e.Z=t=>{let{appTitle:e,shareUrl:o,shareType:s,isOpen:p,onRequestClose:x}=t,{user:j}=(0,c.useUser)(),{data:b}=(0,u.Z)(j?"/api/user":null,v.Z),y=[o,(null==b?void 0:b.hash)?"?utm_campaign=app_page%26utm_id=".concat(null==b?void 0:b.hash):null].join(""),{showSuccessMessage:g}=(0,_.Z)(),[k,N]=(0,n.useState)(!1);return(0,l.jsx)(d.Z,{isOpen:p,onRequestClose:x,Content:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:h().appTitle,children:e}),k&&y&&(0,l.jsx)("div",{className:h().qrWrapper,children:(0,l.jsx)("div",{className:h().qr,children:(0,l.jsx)(r.ZP,{value:y})})}),(0,l.jsxs)("div",{className:h().socialMediaButtons,children:[(0,l.jsx)(m.Z,{icon:"logo-twitter",onClick:()=>{let t="",l="".concat(o,"?utm_source=twitter%26utm_campaign=app_page%26utm_medium=social");(null==b?void 0:b.hash)&&(l+="%26utm_id=".concat(null==b?void 0:b.hash)),"app"===s?t=(0,a.encode)("Try this AI-powered app called ".concat(encodeURIComponent(e),": ").concat(l," %0a\n\nMade using @brancherdotai")):"result"===s&&(t=(0,a.encode)("My results from using an AI-powered app called ".concat(encodeURIComponent(e),": ").concat(l," %0a\n\nMade using @brancherdotai"))),window.open("https://twitter.com/intent/tweet?text=".concat(t),"_blank")},size:60,iconSize:40,kind:"secondary"}),(0,l.jsx)(m.Z,{icon:"logo-linkedin",onClick:()=>{let t="".concat(o,"?utm_source=linkedin%26utm_campaign=app_page%26utm_medium=social");(null==b?void 0:b.hash)&&(t+="%26utm_id=".concat(null==b?void 0:b.hash)),window.open("https://www.linkedin.com/shareArticle/?mini=true%26title=".concat(encodeURIComponent(e),"&url=").concat((0,a.encode)(t)),"_blank")},size:60,iconSize:40,kind:"secondary"}),(0,l.jsx)(m.Z,{icon:"logo-facebook",onClick:()=>{let t="".concat(o,"?utm_source=facebook%26utm_campaign=app_page%26utm_medium=social");(null==b?void 0:b.hash)&&(t+="%26utm_id=".concat(null==b?void 0:b.hash)),window.open("https://www.facebook.com/sharer/sharer.php?u=".concat((0,a.encode)(t)),"_blank")},size:60,iconSize:40,kind:"secondary"}),(0,l.jsx)(m.Z,{icon:"qr-code",onClick:()=>{N(!k)},size:60,iconSize:40,kind:"secondary"})]}),(0,l.jsxs)("div",{className:h().shareInput,children:[(0,l.jsx)("div",{className:h().shareUrl,children:y}),(0,l.jsx)("button",{type:"button",onClick:()=>{y&&i()(y)&&g({title:"URL copied to your clipboard"})},className:h().copyLink,children:"Copy Link"})]})]})})}},84816:function(t,e,o){"use strict";var l=o(57437);o(2265);var n=o(40812),s=o.n(n);e.Z=()=>(0,l.jsx)("div",{className:s().container})},2101:function(t){t.exports={outputSection:"AppOutput_outputSection__OG1Fm",outputsWrapper:"AppOutput_outputsWrapper__tCcP4",outputs:"AppOutput_outputs__gRGjm",outputItem:"AppOutput_outputItem__Y7ker",outputText:"AppOutput_outputText__Va_1q",outputImages:"AppOutput_outputImages__Qe6xa",outputImage:"AppOutput_outputImage__xc4WK",outputLogo:"AppOutput_outputLogo__ABprc",resultActions:"AppOutput_resultActions__qkxT1",resultActionButton:"AppOutput_resultActionButton__gfzLK",resultActionButtonLayout:"AppOutput_resultActionButtonLayout__aWDAa",resultLogo:"AppOutput_resultLogo__GVdkC",isMobile:"AppOutput_isMobile__9tk8p"}},1989:function(t){t.exports={appTitle:"ShareModal_appTitle__VToIe",qrWrapper:"ShareModal_qrWrapper__bsIiR",qr:"ShareModal_qr__j15S_",socialMediaButtons:"ShareModal_socialMediaButtons__Tn6TW",shareInput:"ShareModal_shareInput__C_rET",shareUrl:"ShareModal_shareUrl__6IQTL",copyLink:"ShareModal_copyLink__4aRdQ"}},40812:function(t){t.exports={container:"Loader_container__rbISC",rotation:"Loader_rotation__QeHdR"}}}]);